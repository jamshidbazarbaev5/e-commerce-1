import React, { useState, useRef } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { useQuery } from '@tanstack/react-query';
import { fetchProductById } from '../api';
import { useCart } from '../context/CartContext';

interface Product {
  id: number;
  title: string;
  price: number;
  image: string;
  description: string;
  quantity: number;
}

const ProductDetail: React.FC = () => {
  const { id } = useParams<{ id: string }>();
  const navigate = useNavigate();
  const { addToCart } = useCart();
  const [magnifierPosition, setMagnifierPosition] = useState({ x: 0, y: 0 });
  const [showMagnifier, setShowMagnifier] = useState(false);
  const imageRef = useRef<HTMLImageElement>(null);

  const { data: product, isLoading, error } = useQuery<Product>({
    queryKey: ['product', id],
    queryFn: () => fetchProductById(String(id)),
  });

  if (isLoading) return <div className="text-center py-8 text-gray-600">Loading product details...</div>;
  if (error) return <div className="text-center py-8 text-red-600">Error fetching product details</div>;
  if (!product) return <div className="text-center py-8 text-gray-600">Product not found</div>;

  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {
    if (imageRef.current) {
      const { left, top, width, height } = imageRef.current.getBoundingClientRect();
      const x = ((e.clientX - left) / width) * 100;
      const y = ((e.clientY - top) / height) * 100;
      setMagnifierPosition({ x, y });
    }
  };

  return (
    <div className="container mx-auto px-4 py-8">
      <div className="flex flex-col md:flex-row">
        <div className="md:w-1/2 relative">
          <div
            className="relative overflow-hidden cursor-zoom-in"
            onMouseEnter={() => setShowMagnifier(true)}
            onMouseLeave={() => setShowMagnifier(false)}
            onMouseMove={handleMouseMove}
          >
            <img
              ref={imageRef}
              src="data:image/jpeg;base64,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"
              alt={product.title}
              className="w-full h-auto object-cover rounded-lg shadow-lg"
            />
            {showMagnifier && (
              <div
                style={{
                  position: 'absolute',
                  left: `${magnifierPosition.x}%`,
                  top: `${magnifierPosition.y}%`,
                  transform: 'translate(-50%, -50%)',
                  pointerEvents: 'none',
                  width: '150px',
                  height: '150px',
                  border: '2px solid white',
                  borderRadius: '50%',
                  backgroundImage: `url('data:image/jpeg;base64,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')`,
                  backgroundPosition: `${magnifierPosition.x}% ${magnifierPosition.y}%`,
                  backgroundSize: '300%',
                  backgroundRepeat: 'no-repeat',
                  zIndex: 10,
                }}
              />
            )}
          </div>
        </div>
        <div className="md:w-1/2 md:pl-8 mt-4 md:mt-0">
          <h1 className="text-3xl font-bold text-gray-800 mb-4">{product.title}</h1>
          <p className="text-xl text-gray-600 mb-4">${product.price.toFixed(2)}</p>
          <p className="text-gray-700 mb-6">{product.description}</p>
          <button
            onClick={() => addToCart(product)}
            className="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out mr-2"
          >
            Add to Cart
          </button>
          <button
            onClick={() => navigate('/')}
            className="mt-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out"
          >
            Back to Products
          </button>
        </div>
      </div>
    </div>
  );
};

export default ProductDetail;
